{% extends 'base.html' %}

{% block title %}{{ event.title }}{% endblock %}

{% block content %}
<div class="card shadow-lg">
    {% if event.banner %}
        <img src="{{ event.banner.url }}" class="card-img-top" alt="{{ event.title }}">
    {% endif %}
    <div class="card-body">
        <h2 class="card-title">{{ event.title }}</h2>
        <p class="text-muted">{{ event.date }} at {{ event.time }}</p>
        <p><strong>Location:</strong> {{ event.location }}</p>
        <p class="mt-3">{{ event.description }}</p>

        {% if event.video %}
        <div class="mt-3">
            <video width="100%" controls>
                <source src="{{ event.video.url }}">
            </video>
        </div>
        {% endif %}

        <h4 class="mt-4">Tickets</h4>
        <ul class="list-group">
            {% for ticket in event.tickets.all %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{ ticket.get_category_display }}
                    <span>${{ ticket.price }} â€” {{ ticket.availability }} left</span>
                </li>
            {% endfor %}
        </ul>

        <a href="{% url 'event_list' %}" class="btn btn-secondary mt-4">Back to Events</a>
    </div>
</div>
{% endblock %}
